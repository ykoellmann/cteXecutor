<idea-plugin>
    <id>com.ykoellmann.ctexecutor.ctexecutor</id>
    <name>cteXecutor</name>

    <!-- 
        Version, description and change-notes will be automatically patched 
        from PluginInfo.kt during build via build.gradle.kts 
        
        You don't need to manually update these!
    -->

    <vendor email="yankoe@outlook.de">Yannik KÃ¶llmann</vendor>

    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.database</depends>

    <extensions defaultExtensionNs="com.intellij">
        <notificationGroup id="cteExecutor.notifications"
                           displayType="BALLOON"/>
        <applicationService serviceImplementation="com.ykoellmann.ctexecutor.notification.UpdateNotificationService"/>
        <postStartupActivity implementation="com.ykoellmann.ctexecutor.notification.UpdateNotificationStartupActivity"/>
    </extensions>

    <actions>
        <action id="com.ykoellmann.ctexecutor.RunAction"
                class="com.ykoellmann.ctexecutor.actions.RunAction"
                text="Run CT-Query"
                description="Execute the selected CTE SQL query">
            <add-to-group group-id="EditorPopupMenu" anchor="last"/>
            <keyboard-shortcut keymap="$default" first-keystroke="ctrl NUMBER_SIGN" second-keystroke="SPACE"/>
        </action>

        <action id="com.ykoellmann.ctexecutor.CopyAction"
                class="com.ykoellmann.ctexecutor.actions.CopyAction"
                text="Copy CT-Query SQL"
                description="Copy the selected CTE SQL query to clipboard">
            <add-to-group group-id="EditorPopupMenu" anchor="last"/>
            <keyboard-shortcut keymap="$default" first-keystroke="ctrl NUMBER_SIGN" second-keystroke="C"/>
        </action>

        <action id="com.ykoellmann.ctexecutor.CopyAndEditAction"
                class="com.ykoellmann.ctexecutor.actions.CopyAndEditAction"
                text="Edit and Run SQL"
                description="Open a SQL editor dialog with full language support">
            <add-to-group group-id="EditorPopupMenu" anchor="last"/>
            <keyboard-shortcut keymap="$default" first-keystroke="ctrl NUMBER_SIGN" second-keystroke="W"/>
        </action>

        <action id="com.ykoellmann.ctexecutor.ExecuteFromHereAction"
                class="com.ykoellmann.ctexecutor.actions.ExecuteFromHereAction"
                text="Execute from Here"
                description="Execute SQL from current position with automatic dependency resolution">
            <add-to-group group-id="EditorPopupMenu" anchor="last"/>
            <keyboard-shortcut keymap="$default" first-keystroke="ctrl NUMBER_SIGN" second-keystroke="ENTER"/>
        </action>
    </actions>

</idea-plugin>